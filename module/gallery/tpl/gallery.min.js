(()=>{"use strict";window.addEventListener("load",(()=>{document.querySelector("#galleryContentModal")?.addEventListener("show.bs.modal",(e=>{const r=e.target.querySelector(".carousel-inner"),t=e.relatedTarget.href.getQuery(),l=e.relatedTarget.closest(".list-group"),a=e.relatedTarget.querySelector("img")?.src.getQuery("file"),s=l.querySelectorAll("img");let c="";s.forEach((e=>{c+=e.src.getQuery("file")+","})),exec_ajax({module:"gallery",act:"getFiles",md_id:t.id,mf_srls:c}).then((e=>{let t=[];e.forEach(((e,r)=>{t[r]='<div class="carousel-item%s">%s<img src="%s" class="d-block w-100" alt="%s" loading="lazy"></div>'.sprintf(a==e.mf_srl?" active":"","<h6>"+(e.mf_name||"")+", "+(e.mf_regdate||"")+"</h6>","./?file="+e.mf_srl,e.mf_name)})),r.innerHTML=t.join("")})).catch((e=>{}))}))}))})();