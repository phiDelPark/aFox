if("undefined"==typeof bootstrap)throw document.getElementById("defBootstrapJS")||parent.location.replace(request_uri+"?cdnerr=bootstrap"),new Error("aFox's JavaScript requires Bootstrap 5");const $_LANG={};Number.prototype.shortSize=function(){let t=this,e=0;for(let r=4;e<r&&!(t<=1024);e++)t/=1024;return t.toFixed(1)+["B","K","M","G","T"][e]},String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")},String.prototype.toUcFirst=function(){let t=this.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)},String.prototype.sprintf=function(){let t=this,e=arguments;e=1===e.length&&"object"==typeof e[0]?e[0]:e;for(let r=0,n=e.length;r<n;r++)t=t.replace(/%([0-9]?)(s|d)/,(function(t,n,o){let i=e[r]+"";if(Number(n||0)>0){let t="d"==o?"0":"_";for(;i.length<n;)i=t+i}return i}));return t},String.prototype.nl2br=function(t){return this.replace(/\r\n|\n\r|\r|\n/g,t||"<br>")},String.prototype.stripTags=function(t){t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");return this.replace(/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,"").replace(/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,(function(e,r){return t.indexOf("<"+r.toLowerCase()+">")>-1?e:""}))},String.prototype.escapeMKDW=function(t){const e=!1===t?/[\`\[\]]/g:/[\\\`\*\_\{\}\[\]\(\)\>\#\+\-\.\!]/g;return this.replace(e,(function(t){return"\\"+t}))},String.prototype.escapeHtml=function(){const t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};return this.replace(/[&<>"'\/]/g,(function(e){return t[e]}))},String.prototype.unescapeHtml=function(){const t={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#x2F;":"/"};return this.replace(/&[^;]+;/g,(function(e){return t[e]}))},String.prototype.getQuery=function(t){const e=decodeURIComponent(this).replace(/&amp;/g,"&");let r={};return e.replace(/[?&]+([^=&]+)=([^&]*)/g,(function(t,e,n){r[e]=n})),t?r[t]||"":r},String.prototype.setQuery=function(){const t=decodeURIComponent(this).replace(/&amp;/g,"&");let e=arguments,r=e.length;if(0===r)return t;"object"==typeof e[0]&&(e=e[0],r=e.length);let n,o=""!==e[0]?t.getQuery():{},i=[];for(var a=""===e[0]?1:0;a<r;a+=2)o[e[a]]=e[a+1];for(var l in o)o.hasOwnProperty(l)&&(n=String(o[l]).trim())&&i.push(l+"="+n);let c=t.indexOf("?"),p=-1==c?t:t.substr(0,c);return"/"!=p.substr(-1,1)&&(p+="/"),p+(i.length>0?"?"+i.join("&"):"")},HTMLFormElement.prototype.serializeArray=function(){let t=[];return Array.prototype.slice.call(this.elements).forEach((function(e){!e.name||e.disabled||["file","reset","submit","button"].indexOf(e.type)>-1||("select-multiple"!==e.type?["checkbox","radio"].indexOf(e.type)>-1&&!e.checked||t.push({name:e.name,value:e.value}):Array.prototype.slice.call(e.options).forEach((function(r){r.selected&&t.push({name:e.name,value:r.value})})))})),t},HTMLFormElement.prototype.dataExport=function(){let t,e,r={},n=this.serializeArray();for(let o in n)t=n[o].name,e=n[o].value,"[]"===t.substring(t.length-2)?(t=t.slice(0,-2),Array.isArray(r[t])||(r[t]=[]),r[t][r[t].length]=e):r[t]=e;return r},HTMLFormElement.prototype.dataImport=function(t){let e;for(let r in t)e=this.elements[r],e&&e.name&&("INPUT"==e.tagName?"file"==e.type||("checkbox"==e.type?e.checked=1==t[r]:"radio"==e.type?(e=e.find((e=>e.value===t[r])))&&(e.checked=!0):e.value="0"==t[r]?"":t[r]):["select","textarea"].indexOf(e.type)>-1&&(e.value=t[r]))},HTMLElement.prototype.fadeOut=function(t,e=50){let r=this,n=1;r.timer=setInterval((()=>{n-=.1,r.style.opacity=n,n<=0&&(clearInterval(r.timer),t(r))}),e)},HTMLElement.prototype.fadeIn=function(t,e=50){let r=this,n=0;r.timer=setInterval((()=>{n+=.1,r.style.opacity=n,n>=1&&(clearInterval(r.timer),t(r))}),e)},window.exec_ajax=function(t,e,r,n){},window.load_script=function(t,e,r,n){return new Promise(((o,i)=>{let a=document.createElement("script");const l=e||document.getElementsByTagName("script")[0];function c(t,e){(e||!a.readyState||/loaded|complete/.test(a.readyState))&&(a.onload=null,a.onreadystatechange=null,a=void 0,e?i():o())}a.async=r||!0,a.defer=n||!0,a.onload=c,a.onreadystatechange=c,a.src=t,l.parentNode.insertBefore(a,l.nextSibling)}))},window.pop_win=function(t,e,r,n){const o=window.open(t,n||"afox_popup","width="+(e||"700")+",height="+(r||"500")+",top=50,left=50,scrollbars=yes,toolbar=no,menubar=no,location=no");return o.focus(),o};